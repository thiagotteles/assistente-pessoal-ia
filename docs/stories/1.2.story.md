# História 1.2: Sistema de Captura Ultra-Rápida

## Status
Ready for Review

## História
**Como um** profissional com processamento rápido mas memória limitada,
**Eu quero** jogar qualquer informação em um arquivo sem estrutura obrigatória,
**Para que** eu nunca perca insights importantes por falta de tempo para organizar.

## Critérios de Aceitação

1. Arquivo `despejo/daily-dump.txt` aceita qualquer formato de texto sem validação
2. Não há campos obrigatórios ou estrutura pré-definida necessária
3. Arquivo é acessível diretamente pelo Claude Code sem navegação complexa
4. Timestamps automáticos podem ser adicionados opcionalmente
5. Sistema suporta adição de múltiplas entradas por dia sem conflito

## Tarefas / Subtarefas

- [x] Tarefa 1: Implementar arquivo daily-dump.txt sem validação (AC: 1, 2)
  - [x] Criar arquivo `despejo/daily-dump.txt` que aceita texto livre
  - [x] Garantir que não há validação de formato ou campos obrigatórios
  - [x] Implementar append automático para preservar conteúdo existente
  - [x] Testar entrada de texto com formatos diversos (listas, parágrafos, etc.)

- [x] Tarefa 2: Configurar acesso direto via Claude Code (AC: 3)
  - [x] Otimizar caminho de acesso ao arquivo para Claude Code
  - [x] Configurar bookmark ou acesso rápido
  - [x] Testar navegação simplificada para o arquivo
  - [x] Documentar melhor forma de acessar o arquivo rapidamente

- [x] Tarefa 3: Implementar timestamps opcionais automáticos (AC: 4)
  - [x] Criar sistema de timestamps opcionais ao adicionar entrada
  - [x] Usar formato ISO: YYYY-MM-DDTHH:MM:SS conforme padrões
  - [x] Permitir ativação/desativação de timestamps
  - [x] Testar timestamps em diferentes entradas

- [x] Tarefa 4: Suportar múltiplas entradas por dia (AC: 5)
  - [x] Implementar sistema de separação entre entradas
  - [x] Garantir que entradas não conflitam entre si
  - [x] Testar adição de várias entradas ao longo do dia
  - [x] Validar preservação de entradas anteriores

- [x] Tarefa 5: Integração com sistema de processamento posterior
  - [x] Preparar estrutura para processamento pelo /organizador
  - [x] Implementar marcação de entradas processadas vs. não processadas
  - [x] Criar sistema de arquivamento em `despejo/processed/`
  - [x] Testar fluxo completo: captura → processamento → arquivamento

## Notas para Desenvolvimento

### Contexto da História Anterior
Esta história depende da Story 1.1 (Estrutura de Arquivos Base) que deve ter criado o diretório `despejo/` e a estrutura básica de arquivos.

### Estrutura de Diretório Despejo
[Fonte: architecture/estrutura-de-arquivos-source-tree.md]

**Estrutura específica para captura:**
```
despejo/                         # Captura ultra-rápida
├── daily-dump.txt               # Arquivo principal de despejo
└── processed/                   # Histórico de despejos processados
    ├── 2025-01-09-processed.txt
    └── 2025-01-08-processed.txt
```

### Padrões de Timestamps
[Fonte: architecture/padres-de-codificao.md]

**Formato obrigatório:**
- **Timestamps ISO**: Sempre formato YYYY-MM-DDTHH:MM:SS
- **Encoding UTF-8**: Suporte completo a caracteres português

### Integração com Agente Organizador
[Fonte: architecture/componentes.md]

**Organizador Agent interfaces relevantes:**
- `processar_despejo()` - Analisa daily-dump.txt via perguntas específicas
- `categorizar_automaticamente()` - Salva informações na knowledge-base com metadados
- `criar_referencias()` - Gera links [[]] automaticamente para pessoas/projetos

**Dependência importante:**
- O daily-dump.txt deve ser preparado para processamento posterior pelo Organizador Agent
- Formato deve permitir análise inteligente para categorização automática

### Stack Tecnológico para Captura
[Fonte: architecture/tech-stack.md]

**Tecnologias principais:**
- **Claude Code**: Interface principal para acesso direto
- **Filesystem**: Organização de dados com zero overhead
- **Markdown**: Formato aceito mas não obrigatório
- **UTF-8**: Encoding para caracteres especiais

### Workflows de Processamento
[Fonte: architecture/workflows-centrais.md]

**Workflow 1: Processamento de Despejo com Referências [[]]**
- O daily-dump.txt deve ser preparado para identificação automática de:
  - Pessoas mencionadas → [[Nome da Pessoa]]
  - Projetos referenciados → [[Nome do Projeto]]
  - Conceitos importantes → [[Conceito]]

### Localização de Arquivos
**Arquivos específicos desta história:**
- `despejo/daily-dump.txt` - Arquivo principal de captura (criação/modificação)
- `despejo/processed/` - Diretório para arquivamento (verificação/criação)

### Requirements Especiais para TDAH
Considerando que o usuário alvo tem TDAH, o sistema deve:
- **Fricção zero**: Sem validações que impeçam captura rápida
- **Flexibilidade total**: Aceitar qualquer formato de entrada
- **Acesso ultra-rápido**: Mínima navegação para chegar ao arquivo
- **Preservação garantida**: Nunca perder informações por sobreposição

## Testing

### Padrões de Teste
Implementar testes básicos de:
- Criação e acesso ao arquivo daily-dump.txt
- Adição de conteúdo sem validação
- Funcionamento de timestamps opcionais
- Preservação de múltiplas entradas
- Preparação para processamento posterior

### Casos de Teste Específicos
- Teste com texto sem estrutura
- Teste com listas e formatação markdown
- Teste com caracteres especiais e acentos
- Teste de múltiplas adições no mesmo dia
- Teste de acesso rápido via Claude Code

## Log de Mudanças
| Data | Versão | Descrição | Autor |
|------|---------|-----------|-------|
| 2025-09-26 | 1.0 | História criada a partir do Épico 1 | Bob (SM) |

## Registro do Agente de Desenvolvimento

### Modelo de Agente Usado
Claude Sonnet 4 (claude-sonnet-4-20250514) - James (Full Stack Developer)

### Referências de Log de Debug
- Daily-dump.txt validation: ✅ Aceita qualquer formato sem validação
- Formatos testados: ✅ Texto simples, listas, parágrafos, caracteres especiais, emojis
- Campos obrigatórios: ✅ Nenhuma validação - total liberdade de entrada
- Acesso direto: ✅ Arquivo acessível em despejo/daily-dump.txt com permissões adequadas
- Scripts de timestamp: ✅ add-dump-entry.sh criado e testado
- Múltiplas entradas: ✅ Suporte completo com separadores automáticos
- Sistema de processamento: ✅ process-dump.sh implementado com arquivamento
- Performance: ✅ Arquivo mantém tamanho adequado (< 1MB)
- Preservação de dados: ✅ Nenhuma perda de informação detectada

### Lista de Notas de Conclusão
✅ **Story 1.2 CONCLUÍDA**: Sistema de captura ultra-rápida totalmente funcional
✅ **Zero Friction Capture**: Nenhuma validação ou campo obrigatório implementado
✅ **TDAH-Optimized**: Template melhorado para captura mental sem barreiras
✅ **Multiple Formats Support**: Aceita texto livre, listas, parágrafos, caracteres especiais
✅ **Timestamp System**: Sistema opcional via script add-dump-entry.sh
✅ **Multi-Entry Support**: Separação automática entre entradas sem conflitos
✅ **Processing Integration**: Scripts completos para arquivamento e processamento
✅ **Data Preservation**: Sistema robusto sem perda de informações
✅ **Performance Tested**: Arquivo mantém tamanho e responsividade adequados

### Lista de Arquivos
**Arquivos Criados/Modificados:**
- `scripts/add-dump-entry.sh` - Script para adicionar entradas com timestamps opcionais
- `scripts/process-dump.sh` - Script para processar e arquivar entradas
- `test-story-1.2.sh` - Testes específicos da Story 1.2
- `despejo/daily-dump.txt` - Template TDAH-friendly aprimorado (já existia, melhorado na Story 1.1)
- `despejo/processed/` - Diretório para arquivamento (criado automaticamente)

**Funcionalidades Implementadas:**
- Sistema de captura sem validação ou campos obrigatórios
- Suporte a qualquer formato de texto (listas, parágrafos, caracteres especiais)
- Timestamps opcionais automáticos em formato ISO
- Múltiplas entradas por dia com separação automática
- Sistema de processamento e arquivamento integrado
- Preservação total de dados sem perda de informação
- Scripts auxiliares para facilitar uso via linha de comando
- Integração preparada para o agente /organizador

**Performance e Usabilidade:**
- Acesso direto via Claude Code sem navegação complexa
- Append automático preserva conteúdo existente
- Scripts com help e documentação integrada
- Suporte a emojis e caracteres especiais
- Validação por testes automatizados completos

## Resultados do QA
*Resultados da revisão do Agente de QA serão adicionados aqui*