# Story 6.3: Geração de Comandos Cursor

**ID:** STORY-6.3
**Epic:** [Epic 6 - Suporte ao Cursor IDE](../epics/epic-6.md)
**Status:** Planejado
**Prioridade:** Alta
**Estimativa:** 3 horas
**Depende de:** Story 6.1, 6.2

---

## Descrição

Gerar comandos Cursor para os 5 agentes (base + específicos), validar sintaxe e testar referências às tasks.

## Objetivos

- Gerar ~20 arquivos de comando Cursor
- Validar sintaxe Markdown
- Testar referências corretas às tasks
- Verificar funcionamento no Cursor

## Comandos a Gerar

### Organizador (Sofia) - 4 comandos
- `organizador.md` (base conversacional)
- `organizador-processar.md` (processar-despejo.md)
- `organizador-organizar.md` (organizar-por-projeto.md)
- `organizador-revisar.md` (revisar-pendencias.md)

### Secretária - 4 comandos
- `secretaria.md` (base)
- `secretaria-agenda.md` (agenda-do-dia.md)
- `secretaria-reuniao.md` (registro-reuniao.md)
- `secretaria-status.md` (status-projetos.md)

### Arquiteto (Marcus) - 4 comandos
- `arquiteto.md` (base)
- `arquiteto-consulta.md` (consultoria-tecnica.md)
- `arquiteto-analise.md` (analise-projeto.md)
- `arquiteto-decisao.md` (registrar-decisao.md)

### Psicólogo (Dr. Silva) - 4 comandos
- `psicologo.md` (base)
- `psicologo-suporte.md` (suporte-emocional.md)
- `psicologo-procrastinacao.md` (detectar-procrastinacao.md)
- `psicologo-tecnicas.md` (sugerir-tecnicas.md)

### Mentor (Carlos) - 4 comandos
- `mentor.md` (base)
- `mentor-oportunidades.md` (identificar-oportunidades.md)
- `mentor-conversa.md` (preparar-conversa.md)
- `mentor-metas.md` (tracking-metas.md)

**Total:** 20 comandos

---

## Script de Geração

```javascript
// scripts/generate-cursor-commands.js
const CursorCommandGenerator = require('../src/installer/cursor-command-generator');
const path = require('path');
const fs = require('fs-extra');

async function main() {
  const generator = new CursorCommandGenerator();
  await generator.loadTemplates();

  const outputDir = path.join(__dirname, '../.cursor/commands');
  await fs.ensureDir(outputDir);

  const agents = ['organizador', 'secretaria', 'arquiteto', 'psicologo', 'mentor'];

  for (const agentId of agents) {
    console.log(`Gerando comandos para ${agentId}...`);
    
    const commands = await generator.generateAgentCommands(agentId);
    
    for (const cmd of commands) {
      const filePath = path.join(outputDir, cmd.filename);
      await fs.writeFile(filePath, cmd.content);
      console.log(`  ✓ ${cmd.filename}`);
    }
  }

  console.log(`\n✅ ${agents.length * 4} comandos gerados!`);
}

main().catch(console.error);
```

---

## Critérios de Aceitação

- [ ] Script `generate-cursor-commands.js` criado
- [ ] 20 comandos gerados em `.cursor/commands/`
- [ ] Todos comandos têm sintaxe Markdown válida
- [ ] Referências a tasks estão corretas
- [ ] Teste manual no Cursor funciona
- [ ] `/organizador` carrega agente Sofia
- [ ] `/organizador-processar` executa task diretamente

---

**Próxima Story:** [6.4 - Testes E2E](./6.4.story.md)
