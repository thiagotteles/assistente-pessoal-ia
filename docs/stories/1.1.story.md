# História 1.1: Estrutura de Arquivos Base

## Status
Approved

## História
**Como um** usuário com TDAH,
**Eu quero** uma estrutura de arquivos simples e intuitiva,
**Para que** eu possa começar a usar o sistema imediatamente sem configuração complexa.

## Critérios de Aceitação

1. Usar estrutura criada pelo Épico 0 setup automático
2. Integração completa com Obsidian configurada automaticamente
3. Git hooks para backup automático ativados
4. Arquivo `daily-dump.txt` funcional com acesso direto
5. Sistema de [[referências]] Obsidian funcionando com cross-links automáticos

## Tarefas / Subtarefas

- [ ] Tarefa 1: Validar estrutura de arquivos base do Épico 0 (AC: 1)
  - [ ] Verificar que todos os diretórios da source tree existem
  - [ ] Validar configurações dos 5 agentes em `.assistant-core/agents/`
  - [ ] Confirmar templates básicos em `.assistant-core/templates/`
  - [ ] Verificar arquivos de memória dos agentes em `.assistant-core/memory/`

- [ ] Tarefa 2: Configurar integração Obsidian automática (AC: 2, 5)
  - [ ] Criar configuração `.obsidian/` válida no vault knowledge-base
  - [ ] Configurar graph view para visualização de referências [[]]
  - [ ] Ativar detecção automática de backlinks
  - [ ] Testar cross-links automáticos entre arquivos

- [ ] Tarefa 3: Implementar Git hooks para backup automático (AC: 3)
  - [ ] Configurar git hook pre-commit para validação
  - [ ] Configurar git hook post-commit para backup
  - [ ] Criar script de backup automático em `scripts/`
  - [ ] Testar funcionamento do backup automático

- [ ] Tarefa 4: Configurar arquivo daily-dump.txt funcional (AC: 4)
  - [ ] Criar arquivo `despejo/daily-dump.txt` com template inicial
  - [ ] Configurar acesso direto via Claude Code
  - [ ] Implementar timestamps opcionais automáticos
  - [ ] Testar adição de múltiplas entradas sem conflito

- [ ] Tarefa 5: Validar sistema de referências [[]] Obsidian (AC: 5)
  - [ ] Testar criação de referências [[pessoas]]
  - [ ] Testar criação de referências [[projetos]]
  - [ ] Validar funcionamento de backlinks automáticos
  - [ ] Confirmar navegação entre referências no graph view

## Notas para Desenvolvimento

### Contexto da História Anterior
Esta é a primeira história do Épico 1, baseando-se na foundation criada pelo Épico 0 (Environment Setup Foundation). Todas as configurações básicas e estruturas já devem estar implementadas.

### Estrutura de Arquivos (Source Tree)
[Fonte: architecture/estrutura-de-arquivos-source-tree.md]

**Estrutura principal a ser validada:**
```
assistente-pessoal-ia/
├── .assistant-core/                 # Core do assistente pessoal
│   ├── agents/                      # Configurações dos 5 agentes especializados
│   │   ├── organizador.yaml         # Config do /organizador
│   │   ├── secretaria.yaml          # Config do /secretaria
│   │   ├── arquiteto.yaml           # Config do /arquiteto
│   │   ├── psicologo.yaml           # Config do /psicologo
│   │   └── mentor.yaml              # Config do /mentor
│   ├── memory/                      # Memória dos 5 agentes
│   │   ├── organizador-memory.yaml  # Contexto e personalidade
│   │   ├── secretaria-memory.yaml   # Histórico de interações
│   │   ├── arquiteto-memory.yaml    # Padrões técnicos aprendidos
│   │   ├── psicologo-memory.yaml    # Padrões emocionais e TDAH
│   │   └── mentor-memory.yaml       # Objetivos de carreira e crescimento
├── despejo/                         # Captura ultra-rápida
│   ├── daily-dump.txt               # Arquivo principal de despejo
│   └── processed/                   # Histórico de despejos processados
├── knowledge-base/                  # "Segundo cérebro" compartilhado (Obsidian Vault)
│   ├── decisoes/                    # Decisões técnicas e pessoais
│   ├── contextos/                   # Contextos de reuniões e conversas
│   ├── projetos/                    # Informações por projeto
│   └── pessoas/                     # Perfis de pessoas
├── todos/                           # Central de tarefas
├── diario/                          # Diários estruturados por data
└── scripts/                         # Scripts de automação
```

### Stack Tecnológico
[Fonte: architecture/tech-stack.md]

**Tecnologias principais:**
- **Claude Code**: Interface principal e processamento IA
- **YAML**: Templates e configuração de agentes (versão 1.2)
- **Markdown**: Knowledge-base e persistência (CommonMark)
- **Obsidian**: Gerenciamento automático de [[links]] com graph view
- **Git**: Backup e histórico de mudanças (versão 2.40+)
- **Filesystem**: Organização de dados (zero overhead)

### Padrões de Codificação
[Fonte: architecture/padres-de-codificao.md]

**Regras críticas a seguir:**
- **Arquivos sempre .md**: Todo conteúdo deve ser human-readable em Markdown
- **Referências [[]] obrigatórias**: Pessoas, projetos, conceitos devem usar [[Nome]]
- **Templates YAML consistentes**: Metadados seguem estrutura padronizada
- **Encoding UTF-8**: Suporte completo a caracteres português
- **Timestamps ISO**: Sempre formato YYYY-MM-DDTHH:MM:SS

**Convenções de nomes:**
- **Arquivos**: kebab-case.md
- **Referências [[]]**: Título Próprio
- **IDs YAML**: kebab-case
- **Pastas**: lowercase simples

### Localização de Arquivos
[Fonte: architecture/estrutura-de-arquivos-source-tree.md]

**Arquivos específicos a serem validados/criados:**
- `despejo/daily-dump.txt` - Arquivo principal de captura
- `.assistant-core/core-config.yaml` - Configuração central
- `knowledge-base/.obsidian/` - Configurações do Obsidian
- `.gitignore` - Exclusões do Git
- `scripts/backup-knowledge-base.sh` - Backup automatizado via Git

### Componentes Relacionados
[Fonte: architecture/componentes.md]

**Agent Memory System**:
- Arquivos de memória para todos os 5 agentes em `.assistant-core/memory/`
- Personalidade consistente carregada automaticamente
- Integração com Knowledge-Base Manager

**Knowledge-Base Manager**:
- Sistema de referências [[]] automáticas
- Integração com Obsidian vault
- Metadados YAML automáticos

## Testing

### Padrões de Teste
Não há guidance específica encontrada na arquitetura para testing desta história. Implementar testes básicos de:
- Validação de estrutura de arquivos
- Funcionamento do Git backup
- Integração Obsidian básica
- Acessibilidade do daily-dump.txt

### Localização dos Testes
Seguir padrão de testes básicos em scripts de validação no diretório raiz do projeto.

## Log de Mudanças
| Data | Versão | Descrição | Autor |
|------|---------|-----------|-------|
| 2025-09-26 | 1.0 | História criada a partir do Épico 1 | Bob (SM) |

## Registro do Agente de Desenvolvimento
*Esta seção será preenchida pelo agente de desenvolvimento durante a implementação*

### Modelo de Agente Usado
*A ser preenchido pelo agente de desenvolvimento*

### Referências de Log de Debug
*A ser preenchido pelo agente de desenvolvimento*

### Lista de Notas de Conclusão
*A ser preenchido pelo agente de desenvolvimento*

### Lista de Arquivos
*A ser preenchido pelo agente de desenvolvimento*

## Resultados do QA
*Resultados da revisão do Agente de QA serão adicionados aqui*